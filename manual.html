<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV Watch Tracker ãƒãƒ‹ãƒ¥ã‚¢ãƒ«</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true, theme:'dark'});</script>
    <style>
        :root {
            --primary: #00d4ff;
            --secondary: #ffe66d;
            --success: #4ecdc4;
            --danger: #ff6b6b;
            --dark: #1a1a2e;
            --darker: #16213e;
            --darkest: #0f3460;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--dark);
            color: #fff;
            line-height: 1.7;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background: linear-gradient(135deg, var(--darker), var(--darkest));
            padding: 40px 20px;
            text-align: center;
            border-bottom: 3px solid var(--primary);
        }
        header h1 {
            color: var(--primary);
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        header p {
            color: #888;
            font-size: 1.1em;
        }
        nav {
            background: var(--darker);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #333;
        }
        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            max-width: 900px;
            margin: 0 auto;
        }
        nav a {
            color: #888;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 20px;
            transition: all 0.3s;
            font-size: 0.9em;
        }
        nav a:hover {
            color: var(--primary);
            background: var(--darkest);
        }
        section {
            background: var(--darker);
            margin: 20px 0;
            padding: 30px;
            border-radius: 12px;
            border-left: 4px solid var(--primary);
        }
        h2 {
            color: var(--primary);
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
        }
        h3 {
            color: var(--secondary);
            font-size: 1.3em;
            margin: 25px 0 15px;
        }
        h4 {
            color: var(--success);
            font-size: 1.1em;
            margin: 20px 0 10px;
        }
        p { margin: 15px 0; }
        ul, ol {
            margin: 15px 0 15px 25px;
        }
        li { margin: 8px 0; }
        code {
            background: var(--darkest);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
            color: var(--secondary);
        }
        pre {
            background: var(--darkest);
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border: 1px solid #333;
        }
        pre code {
            background: none;
            padding: 0;
            color: #fff;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #333;
        }
        th {
            background: var(--darkest);
            color: var(--primary);
            font-weight: 600;
        }
        tr:hover { background: rgba(0, 212, 255, 0.05); }
        .card {
            background: var(--darkest);
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .card-title {
            color: var(--secondary);
            font-weight: bold;
            margin-bottom: 10px;
        }
        .tip {
            background: rgba(78, 205, 196, 0.1);
            border-left: 4px solid var(--success);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .tip::before {
            content: "ğŸ’¡ Tip: ";
            color: var(--success);
            font-weight: bold;
        }
        .warning {
            background: rgba(255, 107, 107, 0.1);
            border-left: 4px solid var(--danger);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .warning::before {
            content: "âš ï¸ æ³¨æ„: ";
            color: var(--danger);
            font-weight: bold;
        }
        .step {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            align-items: flex-start;
        }
        .step-number {
            background: var(--primary);
            color: var(--dark);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            flex-shrink: 0;
        }
        .step-content { flex: 1; }
        .tab-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        .tab-item {
            background: var(--darkest);
            padding: 10px 20px;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        .tab-item:hover {
            border-color: var(--primary);
        }
        .tab-item .name {
            color: var(--primary);
            font-weight: bold;
        }
        .tab-item .desc {
            color: #888;
            font-size: 0.85em;
            margin-top: 5px;
        }
        .flow {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
        }
        .flow-item {
            background: var(--darkest);
            padding: 10px 20px;
            border-radius: 8px;
            color: var(--primary);
            font-weight: bold;
        }
        .flow-arrow {
            color: #888;
            font-size: 1.5em;
        }
        footer {
            text-align: center;
            padding: 40px 20px;
            color: #666;
            border-top: 1px solid #333;
            margin-top: 40px;
        }
        @media (max-width: 768px) {
            header h1 { font-size: 1.8em; }
            section { padding: 20px; }
            .step { flex-direction: column; }
            nav a { padding: 6px 12px; font-size: 0.8em; }
        }
    </style>
</head>
<body>
    <header>
        <h1>TV Watch Tracker</h1>
        <p>Raspberry Pi + é¡”èªè­˜ã§å®¶æ—ã®ãƒ†ãƒ¬ãƒ“è¦–è´æ™‚é–“ã‚’è‡ªå‹•ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°</p>
    </header>

    <nav>
        <ul>
            <li><a href="#overview">æ¦‚è¦</a></li>
            <li><a href="#setup">ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</a></li>
            <li><a href="#tabs">å„ã‚¿ãƒ–ã®ä½¿ã„æ–¹</a></li>
            <li><a href="#settings">è¨­å®šé …ç›®</a></li>
            <li><a href="#tips">é‹ç”¨Tips</a></li>
            <li><a href="#troubleshooting">ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</a></li>
        </ul>
    </nav>

    <div class="container">
        <section id="overview">
            <h2>æ¦‚è¦</h2>
            <p>TV Watch Tracker ã¯ã€USB ã‚«ãƒ¡ãƒ©ã§å®šæœŸçš„ã«æ’®å½±ã—ã€é¡”èªè­˜ã«ã‚ˆã£ã¦èª°ãŒãƒ†ãƒ¬ãƒ“ã‚’è¦‹ã¦ã„ã‚‹ã‹ã‚’è‡ªå‹•è¨˜éŒ²ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚</p>

            <h3>ä¸»ãªæ©Ÿèƒ½</h3>
            <ul>
                <li><strong>è‡ªå‹•é¡”èªè­˜</strong>: è¨­å®šé–“éš”ã§æ’®å½±â†’é¡”æ¤œå‡ºâ†’äººç‰©ç‰¹å®šâ†’ãƒ­ã‚°è¨˜éŒ²</li>
                <li><strong>Web UI</strong>: ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰å…¨ã¦ã®è¨­å®šãƒ»ç®¡ç†ãŒå¯èƒ½</li>
                <li><strong>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</strong>: è¦–è´æ™‚é–“ã‚’ã‚°ãƒ©ãƒ•ã§å¯è¦–åŒ–</li>
                <li><strong>å†ãƒ©ãƒ™ãƒªãƒ³ã‚°</strong>: èª¤èªè­˜ã‚’ä¿®æ­£ã—ã¦ç²¾åº¦å‘ä¸Š</li>
                <li><strong>ã‚¹ãƒãƒ›å¯¾å¿œ</strong>: å¤–å‡ºå…ˆã‹ã‚‰ã‚‚ç¢ºèªå¯èƒ½ï¼ˆTailscaleä½¿ç”¨ï¼‰</li>
            </ul>

            <h3>ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³</h3>
            <div class="mermaid">
flowchart TB
    subgraph RaspberryPi["ğŸ“ Raspberry Pi 4"]
        subgraph Services["ã‚µãƒ¼ãƒ“ã‚¹"]
            WF["watch_faces.py\né¡”èªè­˜ã‚µãƒ¼ãƒ“ã‚¹\n(systemd)"]
            FM["face_manager_app.py\nWeb UI\n(Flask :5002)"]
        end

        subgraph Storage["ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸"]
            CONFIG["config.json\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«"]
            ENC["encodings.pkl\né¡”ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°"]
            LOG["tv_watch_log.csv\næ¤œå‡ºãƒ­ã‚°"]
            DET["detections/\næ¤œå‡ºç”»åƒ"]
            FACE["faces/\né¡”ç”»åƒ"]
        end

        CAM["ğŸ“· USB ã‚«ãƒ¡ãƒ©"]
    end

    subgraph Clients["ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ"]
        PC["ğŸ’» PC ãƒ–ãƒ©ã‚¦ã‚¶"]
        SP["ğŸ“± ã‚¹ãƒãƒ›"]
    end

    subgraph Network["ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯"]
        LAN["LAN\n192.168.x.x:5002"]
        TS["Tailscale\n100.x.x.x:5002"]
    end

    CAM -->|æ’®å½±| WF
    WF -->|æ¤œå‡ºçµæœ| LOG
    WF -->|ç”»åƒä¿å­˜| DET
    WF -->|è¨­å®šèª­è¾¼| CONFIG
    WF -->|ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°èª­è¾¼| ENC

    FM -->|è¨­å®šå¤‰æ›´| CONFIG
    FM -->|é¡”ç™»éŒ²| FACE
    FM -->|ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ›´æ–°| ENC
    FM -->|ãƒ­ã‚°èª­è¾¼| LOG
    FM -->|ç”»åƒèª­è¾¼| DET

    PC --> LAN
    SP --> LAN
    SP --> TS
    LAN --> FM
    TS --> FM

    FM -.->|ã‚µãƒ¼ãƒ“ã‚¹åˆ¶å¾¡| WF
            </div>

            <h3>ä½œæ¥­ãƒ•ãƒ­ãƒ¼</h3>
            <div class="flow">
                <div class="flow-item">æ’®å½±</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-item">ROIè¨­å®š</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-item">é¡”æŠ½å‡º</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-item">é¡”ç™»éŒ²</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-item">ãƒ†ã‚¹ãƒˆ</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-item">é‹ç”¨é–‹å§‹</div>
            </div>
            <p>Web UI ã®ã‚¿ãƒ–ã¯å·¦ã‹ã‚‰é †ã«ä½œæ¥­ãƒ•ãƒ­ãƒ¼ã«æ²¿ã£ã¦é…ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
        </section>

        <section id="setup">
            <h2>ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</h2>

            <h3>å¿…è¦ãªã‚‚ã®</h3>
            <ul>
                <li>Raspberry Pi 4ï¼ˆ4GBæ¨å¥¨ï¼‰</li>
                <li>USB ã‚«ãƒ¡ãƒ©</li>
                <li>Python 3.9 ä»¥ä¸Š</li>
            </ul>

            <h3>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †</h3>

            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h4>
                    <pre><code>python3 -m venv venv
source venv/bin/activate
pip install opencv-python face_recognition flask</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ</h4>
                    <pre><code>cp config.json.example config.json</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>Web UI èµ·å‹•</h4>
                    <pre><code>python face_manager_app.py</code></pre>
                    <p>ãƒ–ãƒ©ã‚¦ã‚¶ã§ <code>http://&lt;ãƒ©ã‚ºãƒ‘ã‚¤IP&gt;:5002</code> ã«ã‚¢ã‚¯ã‚»ã‚¹</p>
                </div>
            </div>

            <h3>ã‚µãƒ¼ãƒ“ã‚¹åŒ–ï¼ˆè‡ªå‹•èµ·å‹•ï¼‰</h3>
            <pre><code># é¡”èªè­˜ã‚µãƒ¼ãƒ“ã‚¹
sudo cp tv-watch-tracker.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable tv-watch-tracker
sudo systemctl start tv-watch-tracker</code></pre>
        </section>

        <section id="tabs">
            <h2>å„ã‚¿ãƒ–ã®ä½¿ã„æ–¹</h2>

            <div class="card">
                <div class="card-title">æ’®å½±ã‚¿ãƒ–</div>
                <p><strong>ç›®çš„</strong>: é¡”ç™»éŒ²ç”¨ã®ç”»åƒã‚’æ’®å½±ã™ã‚‹</p>
                <ul>
                    <li>ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢ä¸­: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰æ’®å½±</li>
                    <li>ã‚µãƒ¼ãƒ“ã‚¹ç¨¼åƒä¸­: æ¤œå‡ºç”»åƒã‚’è¡¨ç¤ºï¼ˆROI/BBoxè¡¨ç¤ºåˆ‡æ›¿å¯èƒ½ï¼‰</li>
                </ul>
                <div class="tip">1äººã«ã¤ã10ã€œ15æšã€æ§˜ã€…ãªè§’åº¦ãƒ»è¡¨æƒ…ã§æ’®å½±ã™ã‚‹ã¨èªè­˜ç²¾åº¦ãŒå‘ä¸Šã—ã¾ã™ã€‚</div>
            </div>

            <div class="card">
                <div class="card-title">ROIè¨­å®šã‚¿ãƒ–</div>
                <p><strong>ç›®çš„</strong>: é¡”æ¤œå‡ºã™ã‚‹ç¯„å›²ã‚’é™å®šã™ã‚‹</p>
                <ul>
                    <li>æ’®å½±ç”»åƒã‚’é¸æŠ</li>
                    <li>ãƒã‚¦ã‚¹ãƒ‰ãƒ©ãƒƒã‚°ã§æ¤œå‡ºç¯„å›²ã‚’æŒ‡å®š</li>
                    <li>ã€ŒROIè¿½åŠ ä¿å­˜ã€ã§ãƒ—ãƒªã‚»ãƒƒãƒˆä¿å­˜</li>
                </ul>
                <div class="tip">ROIè¨­å®šã§å‡¦ç†è² è·ã‚’å¤§å¹…ã«å‰Šæ¸›ã§ãã€èª¤æ¤œå‡ºã‚‚æ¸›ã‚Šã¾ã™ã€‚</div>
            </div>

            <div class="card">
                <div class="card-title">é¡”æŠ½å‡ºã‚¿ãƒ–</div>
                <p><strong>ç›®çš„</strong>: æ’®å½±ç”»åƒã‹ã‚‰é¡”éƒ¨åˆ†ã‚’åˆ‡ã‚Šå‡ºã™</p>
                <ul>
                    <li>æ¤œå‡ºãƒ¢ãƒ‡ãƒ«ãƒ»upsample ã‚’é¸æŠ</li>
                    <li>ç”»åƒã‚’é¸æŠã—ã¦ã€Œæ¤œå‡ºå®Ÿè¡Œã€</li>
                    <li>æ¤œå‡ºã•ã‚ŒãŸé¡”ã‚’ç¢ºèªã—ã¦ã€Œä¿å­˜ã€</li>
                </ul>
                <div class="warning">upsample ã‚’ä¸Šã’ã™ãã‚‹ã¨ãƒ¡ãƒ¢ãƒªä¸è¶³ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</div>
            </div>

            <div class="card">
                <div class="card-title">é¡”ç™»éŒ²ã‚¿ãƒ–</div>
                <p><strong>ç›®çš„</strong>: åˆ‡ã‚Šå‡ºã—ãŸé¡”ã«åå‰ï¼ˆãƒ©ãƒ™ãƒ«ï¼‰ã‚’ä»˜ã‘ã‚‹</p>
                <ul>
                    <li>æœªç™»éŒ²ã®é¡”ã‚’é¸æŠ</li>
                    <li>åå‰ã‚’å…¥åŠ›ã¾ãŸã¯é¸æŠ</li>
                    <li>ã€Œç™»éŒ²ã€ãƒœã‚¿ãƒ³ã§ä¿å­˜ï¼ˆè‡ªå‹•ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ï¼‰</li>
                </ul>
            </div>

            <div class="card">
                <div class="card-title">ãƒ†ã‚¹ãƒˆã‚¿ãƒ–</div>
                <p><strong>ç›®çš„</strong>: èªè­˜ç²¾åº¦ã‚’ç¢ºèªã™ã‚‹</p>
                <ul>
                    <li>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚«ãƒ¡ãƒ©ã§æ’®å½±</li>
                    <li>èªè­˜çµæœã¨é¡ä¼¼åº¦ã‚’ç¢ºèª</li>
                    <li>ç²¾åº¦ãŒä½ã‘ã‚Œã°ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã¾ãŸã¯é¡”ç”»åƒè¿½åŠ </li>
                </ul>
            </div>

            <div class="card">
                <div class="card-title">é¡”èªè­˜ã‚¿ãƒ–</div>
                <p><strong>ç›®çš„</strong>: æ¤œå‡ºãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®è¨­å®šã¨ã‚µãƒ¼ãƒ“ã‚¹ç®¡ç†</p>
                <ul>
                    <li>æ¤œå‡ºãƒ¢ãƒ‡ãƒ«ï¼ˆHOG/CNNï¼‰</li>
                    <li>upsampleï¼ˆ0ã€œ2ï¼‰</li>
                    <li>æ’®å½±é–“éš”ï¼ˆ3ç§’ã€œ5åˆ†ï¼‰</li>
                    <li>é¡ä¼¼åº¦é–¾å€¤ï¼ˆ40ã€œ60%ï¼‰</li>
                    <li>ä½¿ç”¨ã™ã‚‹ROIãƒ—ãƒªã‚»ãƒƒãƒˆ</li>
                </ul>
                <p>è¨­å®šå¤‰æ›´å¾Œã€Œè¨­å®šã‚’ä¿å­˜ã—ã¦åæ˜ ã€â†’ ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹•ã§é©ç”¨</p>
            </div>

            <div class="card">
                <div class="card-title">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¿ãƒ–</div>
                <p><strong>ç›®çš„</strong>: è¦–è´çŠ¶æ³ã®ç¢ºèªã¨æ¤œå‡ºãƒ­ã‚°ç®¡ç†</p>
                <ul>
                    <li><strong>ç›´è¿‘ã®ç”»åƒ</strong>: æœ€æ–°ã®æ¤œå‡ºç”»åƒï¼ˆROI/BBoxè¡¨ç¤ºåˆ‡æ›¿ï¼‰</li>
                    <li><strong>è¦–è´æ™‚é–“</strong>: æœ¬æ—¥ãƒ»ä»Šé€±ã®äººç‰©åˆ¥é›†è¨ˆ</li>
                    <li><strong>æ¤œå‡ºçŠ¶æ³</strong>: ç›´è¿‘3æ™‚é–“ã®ãƒãƒ¼ã‚³ãƒ¼ãƒ‰è¡¨ç¤º</li>
                    <li><strong>è¦–è´æ™‚é–“åˆ†å¸ƒ</strong>: æ™‚é–“å¸¯åˆ¥ã‚°ãƒ©ãƒ•</li>
                    <li><strong>è¦–è´æ™‚é–“æ¨ç§»</strong>: æ—¥åˆ¥æ¨ç§»ã‚°ãƒ©ãƒ•</li>
                    <li><strong>æ¤œå‡ºãƒ­ã‚°</strong>: ã‚¯ãƒªãƒƒã‚¯ã§è©³ç´°è¡¨ç¤ºãƒ»å†ãƒ©ãƒ™ãƒªãƒ³ã‚°</li>
                </ul>
            </div>
        </section>

        <section id="settings">
            <h2>è¨­å®šé …ç›®</h2>

            <table>
                <tr>
                    <th>é …ç›®</th>
                    <th>é¸æŠè‚¢</th>
                    <th>èª¬æ˜</th>
                </tr>
                <tr>
                    <td>æ¤œå‡ºãƒ¢ãƒ‡ãƒ«</td>
                    <td>HOG / CNN</td>
                    <td>HOG: é«˜é€Ÿãƒ»ä½ç²¾åº¦ã€CNN: ä½é€Ÿãƒ»é«˜ç²¾åº¦</td>
                </tr>
                <tr>
                    <td>upsample</td>
                    <td>0 / 1 / 2</td>
                    <td>é«˜ã„ã»ã©å°ã•ã„é¡”ã‚’æ¤œå‡ºå¯èƒ½ï¼ˆãƒ¡ãƒ¢ãƒªæ¶ˆè²»å¢—ï¼‰</td>
                </tr>
                <tr>
                    <td>æ’®å½±é–“éš”</td>
                    <td>3ç§’ã€œ5åˆ†</td>
                    <td>çŸ­ã„ã»ã©ç²¾åº¦å‘ä¸Šï¼ˆè² è·å¢—ï¼‰</td>
                </tr>
                <tr>
                    <td>é¡ä¼¼åº¦é–¾å€¤</td>
                    <td>40ã€œ60%</td>
                    <td>ä½ã„ã»ã©å³æ ¼ï¼ˆè¦‹é€ƒã—å¢—ï¼‰ã€é«˜ã„ã»ã©ç·©ã‚ï¼ˆèª¤èªè­˜å¢—ï¼‰</td>
                </tr>
                <tr>
                    <td>ROI</td>
                    <td>ãƒ—ãƒªã‚»ãƒƒãƒˆé¸æŠ</td>
                    <td>æ¤œå‡ºç¯„å›²ã‚’é™å®šã—ã¦è² è·è»½æ¸›ãƒ»ç²¾åº¦å‘ä¸Š</td>
                </tr>
            </table>

            <h3>æ¨å¥¨è¨­å®šï¼ˆRaspberry Pi 4ï¼‰</h3>
            <table>
                <tr>
                    <th>ç’°å¢ƒ</th>
                    <th>ãƒ¢ãƒ‡ãƒ«</th>
                    <th>upsample</th>
                    <th>ROI</th>
                </tr>
                <tr>
                    <td>è¿‘è·é›¢ï¼ˆ1ã€œ2mï¼‰</td>
                    <td>CNN</td>
                    <td>1</td>
                    <td>ä»»æ„</td>
                </tr>
                <tr>
                    <td>ä¸­è·é›¢ï¼ˆ2ã€œ4mï¼‰</td>
                    <td>CNN</td>
                    <td>2</td>
                    <td>æ¨å¥¨</td>
                </tr>
                <tr>
                    <td>ãƒ¡ãƒ¢ãƒªä¸è¶³æ™‚</td>
                    <td>HOG</td>
                    <td>1</td>
                    <td>å¿…é ˆ</td>
                </tr>
            </table>
        </section>

        <section id="tips">
            <h2>é‹ç”¨Tips</h2>

            <h3>èªè­˜ç²¾åº¦ã‚’ä¸Šã’ã‚‹ã‚³ãƒ„</h3>
            <ul>
                <li>1äººã«ã¤ãæ§˜ã€…ãªè§’åº¦ãƒ»ç…§æ˜æ¡ä»¶ã§15æšä»¥ä¸Šç™»éŒ²</li>
                <li>å®Ÿéš›ã®è¦–è´ä½ç½®ã§æ’®å½±ã—ãŸç”»åƒã‚’ä½¿ã†</li>
                <li>èª¤èªè­˜ãŒã‚ã‚Œã°å†ãƒ©ãƒ™ãƒªãƒ³ã‚°ã§ä¿®æ­£ï¼ˆå­¦ç¿’åŠ¹æœã‚ã‚Šï¼‰</li>
                <li>å®šæœŸçš„ã«æ–°ã—ã„é¡”ç”»åƒã‚’è¿½åŠ ï¼ˆç‰¹ã«å­ä¾›ã¯æˆé•·ã§å¤‰åŒ–ï¼‰</li>
            </ul>

            <h3>ãƒ¡ãƒ¢ãƒªä¸è¶³å¯¾ç­–</h3>
            <ol>
                <li><strong>ROIè¨­å®š</strong>ï¼ˆåŠ¹æœå¤§ï¼‰: æ¤œå‡ºç¯„å›²ã‚’é™å®š</li>
                <li><strong>upsampleå‰Šæ¸›</strong>ï¼ˆåŠ¹æœä¸­ï¼‰: 2â†’1ã«ä¸‹ã’ã‚‹</li>
                <li><strong>HOGä½¿ç”¨</strong>ï¼ˆåŠ¹æœå¤§ï¼‰: CNNã‚ˆã‚Šè»½é‡</li>
            </ol>
            <pre><code># ãƒ¡ãƒ¢ãƒªä½¿ç”¨çŠ¶æ³ã®ç¢ºèª
free -h

# OOMã‚­ãƒ©ãƒ¼ã®ãƒ­ã‚°ç¢ºèª
dmesg | grep -i "out of memory"</code></pre>

            <h3>å¤–å‡ºå…ˆã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹</h3>
            <p>Tailscale ã‚’ä½¿ãˆã°ã€å¤–å‡ºå…ˆã‹ã‚‰ã‚‚ã‚»ã‚­ãƒ¥ã‚¢ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚</p>
            <pre><code># Raspberry Pi ã« Tailscale ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
curl -fsSL https://tailscale.com/install.sh | sh
sudo tailscale up

# ã‚¹ãƒãƒ›ã« Tailscale ã‚¢ãƒ—ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
# åŒã˜ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
# Tailscale IP ã§ã‚¢ã‚¯ã‚»ã‚¹: http://&lt;Tailscale IP&gt;:5002</code></pre>
        </section>

        <section id="troubleshooting">
            <h2>ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>

            <div class="card">
                <div class="card-title">é¡”ãŒæ¤œå‡ºã•ã‚Œãªã„</div>
                <ul>
                    <li>ç…§æ˜ãŒååˆ†ã‹ç¢ºèªï¼ˆé€†å…‰ãƒ»æš—æ‰€ã¯è‹¦æ‰‹ï¼‰</li>
                    <li>ã‚«ãƒ¡ãƒ©ã¨ã®è·é›¢ãŒé ã™ããªã„ã‹ç¢ºèª</li>
                    <li>upsample ã‚’ä¸Šã’ã‚‹ï¼ˆ1â†’2ï¼‰</li>
                    <li>ROIè¨­å®šã§é¡”ãŒç¯„å›²å†…ã«ã‚ã‚‹ã‹ç¢ºèª</li>
                </ul>
            </div>

            <div class="card">
                <div class="card-title">èª¤èªè­˜ãŒå¤šã„</div>
                <ul>
                    <li>é¡ä¼¼åº¦é–¾å€¤ã‚’ä¸‹ã’ã‚‹ï¼ˆ50%â†’40%ï¼‰</li>
                    <li>ç™»éŒ²é¡”ç”»åƒã‚’è¿½åŠ ã™ã‚‹</li>
                    <li>èª¤èªè­˜ã‚’å†ãƒ©ãƒ™ãƒªãƒ³ã‚°ã§ä¿®æ­£</li>
                </ul>
            </div>

            <div class="card">
                <div class="card-title">ã‚µãƒ¼ãƒ“ã‚¹ãŒè½ã¡ã‚‹</div>
                <ul>
                    <li><code>journalctl -u tv-watch-tracker -f</code> ã§ãƒ­ã‚°ç¢ºèª</li>
                    <li>ãƒ¡ãƒ¢ãƒªä¸è¶³ã®å ´åˆã¯ä¸Šè¨˜å¯¾ç­–ã‚’å®Ÿæ–½</li>
                    <li>ROIè¨­å®šã‚’ç¢ºèªï¼ˆç¯„å›²å¤–ã®åº§æ¨™ãŒãªã„ã‹ï¼‰</li>
                </ul>
            </div>

            <div class="card">
                <div class="card-title">Web UI ã«æ¥ç¶šã§ããªã„</div>
                <ul>
                    <li>Flask ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª</li>
                    <li>ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šã‚’ç¢ºèª</li>
                    <li>æ­£ã—ã„IPã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»ãƒãƒ¼ãƒˆï¼ˆ5002ï¼‰ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹ç¢ºèª</li>
                </ul>
                <pre><code># ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
ps aux | grep face_manager_app

# ãƒãƒ¼ãƒˆç¢ºèª
ss -tlnp | grep 5002</code></pre>
            </div>
        </section>
    </div>

    <footer>
        <p>TV Watch Tracker Manual</p>
        <p><a href="https://github.com/Tsubasa-Ino/tv-watch-tracker" style="color: var(--primary);">GitHub Repository</a></p>
    </footer>
</body>
</html>
